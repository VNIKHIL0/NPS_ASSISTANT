{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/AI-Tool/nps-assistant/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,2KAAgB,MAC1B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC5B,qBACI,6LAAC;QACG,MAAM;QACN,WAAW,IAAA,qHAAE,EACT,gWACA;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///D:/AI-Tool/nps-assistant/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\r\n            \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h3\r\n        ref={ref}\r\n        className={cn(\r\n            \"text-2xl font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <p\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex items-center p-6 pt-0\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACG,KAAK;QACL,WAAW,IAAA,qHAAE,EACT,4DACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACG,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACG,KAAK;QACL,WAAW,IAAA,qHAAE,EACT,sDACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACG,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGjB,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAElE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACG,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGjB,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///D:/AI-Tool/nps-assistant/components/ChatInterface.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useChat } from \"@ai-sdk/react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Send, User, Bot, Mic, MicOff } from \"lucide-react\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport function ChatInterface() {\r\n    // @ts-ignore\r\n    const chatHook = useChat({\r\n        api: '/api/chat',\r\n        onError: (e: any) => console.error(\"Chat Hook Error:\", e),\r\n        onFinish: (message, options) => console.log(\"Chat Hook Finished. Message:\", message, \"Options:\", options),\r\n    });\r\n\r\n    // Debugging\r\n    useEffect(() => {\r\n        console.log(\"Chat Hook Return:\", chatHook);\r\n    }, [chatHook]);\r\n\r\n    // Health check for API\r\n    useEffect(() => {\r\n        fetch('/api/chat', { method: 'POST', body: JSON.stringify({ messages: [] }) })\r\n            .then(res => {\r\n                console.log(\"API Health Check:\", res.status);\r\n                if (res.status !== 200) {\r\n                    // 500 is expected for empty messages if logic fails, but correct path check\r\n                    // Actually logic requires 'messages'. Sending empty might cause 500.\r\n                    // But at least we know it reached server.\r\n                }\r\n            })\r\n            .catch(err => console.error(\"API Reachability Error:\", err));\r\n    }, []);\r\n\r\n    const { messages, status, sendMessage } = chatHook;\r\n    const isLoading = status === \"submitted\" || status === \"streaming\";\r\n\r\n    // Local input state management since useChat doesn't provide it in this version\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement> | { target: { value: string } }) => {\r\n        setInputValue(e.target.value);\r\n    };\r\n\r\n    const handleFormSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!inputValue.trim()) return;\r\n\r\n        // Optimistically add user message? useChat usually handles this.\r\n        // Try calling sendMessage with the message object\r\n        if (sendMessage) {\r\n            sendMessage({ role: \"user\", content: inputValue } as any);\r\n            setInputValue(\"\");\r\n        } else {\r\n            console.error(\"sendMessage is missing from useChat hook\", chatHook);\r\n        }\r\n    };\r\n\r\n    const messagesEndRef = useRef<HTMLDivElement>(null);\r\n    const [isListening, setIsListening] = useState(false);\r\n\r\n    // Auto-scroll to bottom\r\n    useEffect(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [messages]);\r\n\r\n    // Voice Input (Web Speech API)\r\n    const startListening = () => {\r\n        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\r\n            // @ts-ignore\r\n            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n            const recognition = new SpeechRecognition();\r\n            recognition.lang = 'en-IN'; // Default to Indian English\r\n            recognition.continuous = false;\r\n            recognition.interimResults = false;\r\n\r\n            recognition.onstart = () => setIsListening(true);\r\n            recognition.onend = () => setIsListening(false);\r\n            recognition.onresult = (event: any) => {\r\n                const transcript = event.results[0][0].transcript;\r\n                setInputValue(transcript);\r\n            };\r\n\r\n            recognition.start();\r\n        } else {\r\n            alert(\"Browser does not support speech recognition.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container max-w-4xl py-10 h-[calc(100vh-4rem)] flex flex-col\">\r\n            <Card className=\"flex-1 flex flex-col shadow-lg border-2\">\r\n                <CardHeader className=\"border-b bg-muted/50\">\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <Bot className=\"h-6 w-6 text-primary\" />\r\n                        NPS Assistant\r\n                    </CardTitle>\r\n                </CardHeader>\r\n\r\n                <CardContent className=\"flex-1 overflow-hidden p-0 relative\">\r\n                    <div className=\"absolute inset-0 overflow-y-auto p-4 space-y-4\">\r\n                        {messages.length === 0 && (\r\n                            <div className=\"h-full flex flex-col items-center justify-center text-muted-foreground p-8 text-center space-y-4\">\r\n                                <Bot className=\"h-16 w-16 opacity-20\" />\r\n                                <p>Hello! I am your AI NPS Assistant. Ask me anything about pension schemes, tax benefits, or withdrawal rules.</p>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 w-full max-w-md\">\r\n                                    <Button variant=\"outline\" size=\"sm\" onClick={() => {\r\n                                        if (sendMessage) sendMessage({ role: 'user', content: 'What are the tax benefits?' } as any);\r\n                                    }}>What are the tax benefits?</Button>\r\n                                    <Button variant=\"outline\" size=\"sm\" onClick={() => {\r\n                                        if (sendMessage) sendMessage({ role: 'user', content: 'How to open an account?' } as any);\r\n                                    }}>How to open an account?</Button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {messages.map((m) => (\r\n                            <div\r\n                                key={m.id}\r\n                                className={cn(\r\n                                    \"flex w-full\",\r\n                                    m.role === \"user\" ? \"justify-end\" : \"justify-start\"\r\n                                )}\r\n                            >\r\n                                <div\r\n                                    className={cn(\r\n                                        \"flex gap-3 max-w-[80%] rounded-lg p-4 text-sm shadow-sm\",\r\n                                        m.role === \"user\"\r\n                                            ? \"bg-primary text-primary-foreground\"\r\n                                            : \"bg-muted text-foreground\"\r\n                                    )}\r\n                                >\r\n                                    {m.role !== \"user\" && <Bot className=\"h-5 w-5 mt-0.5 shrink-0\" />}\r\n                                    <div className=\"prose prose-sm dark:prose-invert break-words\">\r\n                                        {/* Basic markdown rendering can be added here if needed */}\r\n                                        {(m as any).content}\r\n                                    </div>\r\n                                    {m.role === \"user\" && <User className=\"h-5 w-5 mt-0.5 shrink-0\" />}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        {isLoading && (\r\n                            <div className=\"flex w-full justify-start\">\r\n                                <div className=\"flex gap-3 max-w-[80%] rounded-lg p-4 text-sm bg-muted text-foreground\">\r\n                                    <Bot className=\"h-5 w-5 mt-0.5 shrink-0\" />\r\n                                    <div className=\"flex space-x-2 items-center h-5\">\r\n                                        <span className=\"w-2 h-2 bg-foreground/40 rounded-full animate-bounce [animation-delay:-0.3s]\"></span>\r\n                                        <span className=\"w-2 h-2 bg-foreground/40 rounded-full animate-bounce [animation-delay:-0.15s]\"></span>\r\n                                        <span className=\"w-2 h-2 bg-foreground/40 rounded-full animate-bounce\"></span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        <div ref={messagesEndRef} />\r\n                    </div>\r\n                </CardContent>\r\n\r\n                <CardFooter className=\"border-t p-4 bg-background\">\r\n                    <form onSubmit={handleFormSubmit} className=\"flex w-full items-center gap-2\">\r\n                        <Button\r\n                            type=\"button\"\r\n                            variant=\"outline\"\r\n                            size=\"icon\"\r\n                            onClick={startListening}\r\n                            className={cn(isListening && \"border-red-500 text-red-500 animate-pulse\")}\r\n                        >\r\n                            {isListening ? <MicOff className=\"h-4 w-4\" /> : <Mic className=\"h-4 w-4\" />}\r\n                        </Button>\r\n\r\n                        <Input\r\n                            value={inputValue}\r\n                            onChange={handleInputChange}\r\n                            placeholder=\"Ask about NPS...\"\r\n                            className=\"flex-1\"\r\n                        />\r\n\r\n                        <Button type=\"submit\" size=\"icon\" disabled={isLoading || !inputValue.trim()}>\r\n                            <Send className=\"h-4 w-4\" />\r\n                        </Button>\r\n                    </form>\r\n                </CardFooter>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}